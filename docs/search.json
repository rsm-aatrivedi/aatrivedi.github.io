[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "My Projects",
    "section": "",
    "text": "Welcome to my blog. Here are some of my projects!\n\n\n\n\n\n\n\n\n\n\n\n\nA Replication of Karlan and List (2007)\n\n\n\n\n\n\nAashvi\n\n\nApr 23, 2025\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Aashvi Trivedi",
    "section": "",
    "text": "Here are a few details about me!"
  },
  {
    "objectID": "resume.html",
    "href": "resume.html",
    "title": "Resume",
    "section": "",
    "text": "Download PDF file."
  },
  {
    "objectID": "HW/hw1_questions.html",
    "href": "HW/hw1_questions.html",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nto do: expand on the description of the experiment.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "HW/hw1_questions.html#introduction",
    "href": "HW/hw1_questions.html#introduction",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nto do: expand on the description of the experiment.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "HW/hw1_questions.html#data",
    "href": "HW/hw1_questions.html#data",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Data",
    "text": "Data\n\nDescription\ntodo: Read the data into R/Python and describe the data\n\n\n\n\n\n\nVariable Definitions\n\n\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\ntreatment\nTreatment\n\n\ncontrol\nControl\n\n\nratio\nMatch ratio\n\n\nratio2\n2:1 match ratio\n\n\nratio3\n3:1 match ratio\n\n\nsize\nMatch threshold\n\n\nsize25\n$25,000 match threshold\n\n\nsize50\n$50,000 match threshold\n\n\nsize100\n$100,000 match threshold\n\n\nsizeno\nUnstated match threshold\n\n\nask\nSuggested donation amount\n\n\naskd1\nSuggested donation was highest previous contribution\n\n\naskd2\nSuggested donation was 1.25 x highest previous contribution\n\n\naskd3\nSuggested donation was 1.50 x highest previous contribution\n\n\nask1\nHighest previous contribution (for suggestion)\n\n\nask2\n1.25 x highest previous contribution (for suggestion)\n\n\nask3\n1.50 x highest previous contribution (for suggestion)\n\n\namount\nDollars given\n\n\ngave\nGave anything\n\n\namountchange\nChange in amount given\n\n\nhpa\nHighest previous contribution\n\n\nltmedmra\nSmall prior donor: last gift was less than median $35\n\n\nfreq\nNumber of prior donations\n\n\nyears\nNumber of years since initial donation\n\n\nyear5\nAt least 5 years since initial donation\n\n\nmrm2\nNumber of months since last donation\n\n\ndormant\nAlready donated in 2005\n\n\nfemale\nFemale\n\n\ncouple\nCouple\n\n\nstate50one\nState tag: 1 for one observation of each of 50 states; 0 otherwise\n\n\nnonlit\nNonlitigation\n\n\ncases\nCourt cases from state in 2004-5 in which organization was involved\n\n\nstatecnt\nPercent of sample from state\n\n\nstateresponse\nProportion of sample from the state who gave\n\n\nstateresponset\nProportion of treated sample from the state who gave\n\n\nstateresponsec\nProportion of control sample from the state who gave\n\n\nstateresponsetminc\nstateresponset - stateresponsec\n\n\nperbush\nState vote share for Bush\n\n\nclose25\nState vote share for Bush between 47.5% and 52.5%\n\n\nred0\nRed state\n\n\nblue0\nBlue state\n\n\nredcty\nRed county\n\n\nbluecty\nBlue county\n\n\npwhite\nProportion white within zip code\n\n\npblack\nProportion black within zip code\n\n\npage18_39\nProportion age 18-39 within zip code\n\n\nave_hh_sz\nAverage household size within zip code\n\n\nmedian_hhincome\nMedian household income within zip code\n\n\npowner\nProportion house owner within zip code\n\n\npsch_atlstba\nProportion who finished college within zip code\n\n\npop_propurban\nProportion of population urban within zip code\n\n\n\n\n\n\n\n\nBalance Test\nAs an ad hoc test of the randomization mechanism, I provide a series of tests that compare aspects of the treatment and control groups to assess whether they are statistically significantly different from one another.\ntodo: test a few variables other than the key outcome variables (for example, test months since last donation) to see if the treatment and control groups are statistically significantly different at the 95% confidence level. Do each as a t-test and separately as a linear regression, and confirm you get the exact same results from both methods. When doing a t-test, use the formula in the class slides. When doing the linear regression, regress for example mrm2 on treatment and look at the estimated coefficient on the treatment variable. It might be helpful to compare parts of your analysis to Table 1 in the paper. Be sure to comment on your results (hint: why is Table 1 included in the paper)."
  },
  {
    "objectID": "HW/hw1_questions.html#experimental-results",
    "href": "HW/hw1_questions.html#experimental-results",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Experimental Results",
    "text": "Experimental Results\n\nCharitable Contribution Made\nFirst, I analyze whether matched donations lead to an increased response rate of making a donation.\ntodo: make a barplot with two bars. Each bar is the proportion of people who donated. One bar for treatment and one bar for control.\ntodo: run a t-test between the treatment and control groups on the binary outcome of whether any charitable donation was made. Also run a bivariate linear regression that demonstrates the same finding. (It may help to confirm your calculations match Table 2a Panel A.) Report your statistical results and interpret them in the context of the experiment (e.g., if you found a difference with a small p-value or that was statistically significant at some threshold, what have you learned about human behavior? Use mostly English words, not numbers or stats, to explain your finding.)\ntodo: run a probit regression where the outcome variable is whether any charitable donation was made and the explanatory variable is assignment to treatment or control. Confirm that your results replicate Table 3 column 1 in the paper.\n\n\nDifferences between Match Rates\nNext, I assess the effectiveness of different sizes of matched donations on the response rate.\ntodo: Use a series of t-tests to test whether the size of the match ratio has an effect on whether people donate or not. For example, does the 2:1 match rate lead increase the likelihood that someone donates as compared to the 1:1 match rate? Do your results support the “figures suggest” comment the authors make on page 8?\ntodo: Assess the same issue using a regression. Specifically, create the variable ratio1 then regress gave on ratio1, ratio2, and ratio3 (or alternatively, regress gave on the categorical variable ratio). Interpret the coefficients and their statistical precision.\ntodo: Calculate the response rate difference between the 1:1 and 2:1 match ratios and the 2:1 and 3:1 ratios. Do this directly from the data, and do it by computing the differences in the fitted coefficients of the previous regression. what do you conclude regarding the effectiveness of different sizes of matched donations?\n\n\nSize of Charitable Contribution\nIn this subsection, I analyze the effect of the size of matched donation on the size of the charitable contribution.\ntodo: Calculate a t-test or run a bivariate linear regression of the donation amount on the treatment status. What do we learn from doing this analysis?\ntodo: now limit the data to just people who made a donation and repeat the previous analysis. This regression allows you to analyze how much respondents donate conditional on donating some positive amount. Interpret the regression coefficients – what did we learn? Does the treatment coefficient have a causal interpretation?\ntodo: Make two plot: one for the treatment group and one for the control. Each plot should be a histogram of the donation amounts only among people who donated. Add a red vertical bar or some other annotation to indicate the sample average for each plot."
  },
  {
    "objectID": "HW/hw1_questions.html#simulation-experiment",
    "href": "HW/hw1_questions.html#simulation-experiment",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Simulation Experiment",
    "text": "Simulation Experiment\nAs a reminder of how the t-statistic “works,” in this section I use simulation to demonstrate the Law of Large Numbers and the Central Limit Theorem.\nSuppose the true distribution of respondents who do not get a charitable donation match is Bernoulli with probability p=0.018 that a donation is made.\nFurther suppose that the true distribution of respondents who do get a charitable donation match of any size is Bernoulli with probability p=0.022 that a donation is made.\n\nLaw of Large Numbers\nto do: Make a plot like those on slide 43 from our first class and explain the plot to the reader. To do this, you will simulate 100,00 draws from the control distribution and 10,000 draws from the treatment distribution. You’ll then calculate a vector of 10,000 differences, and then you’ll plot the cumulative average of that vector of differences. Comment on whether the cumulative average approaches the true difference in means.\n\n\nCentral Limit Theorem\nto do: Make 4 histograms like those on slide 44 from our first class at sample sizes 50, 200, 500, and 1000 and explain these plots to the reader. To do this for a sample size of e.g. 50, take 50 draws from each of the control and treatment distributions, and calculate the average difference between those draws. Then repeat that process 999 more times so that you have 1000 averages. Plot the histogram of those averages. Comment on whether zero is in the “middle” of the distribution or whether it’s in the “tail.”"
  },
  {
    "objectID": "Blog/Project1/index.html",
    "href": "Blog/Project1/index.html",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "Blog/Project1/index.html#introduction",
    "href": "Blog/Project1/index.html#introduction",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "Blog/Project1/index.html#data",
    "href": "Blog/Project1/index.html#data",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Data",
    "text": "Data\n\nDescription\n\n# Load necessary packages\nlibrary(haven)    # to read .dta\nlibrary(dplyr)    # for data manipulation\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)  # for plots\nlibrary(broom)    # for tidy regression output\nlibrary(knitr)    # for tables\n\n# Read the data\ndf &lt;- read_dta(\"karlan_list_2007.dta\")\n\n# Show the first few rows\nhead(df)\n\n# A tibble: 6 × 51\n  treatment control ratio     ratio2 ratio3 size    size25 size50 size100 sizeno\n      &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl+lbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl+l&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;\n1         0       1 0 [Contr…      0      0 0 [Con…      0      0       0      0\n2         0       1 0 [Contr…      0      0 0 [Con…      0      0       0      0\n3         1       0 1              0      0 3 [$10…      0      0       1      0\n4         1       0 1              0      0 4 [Uns…      0      0       0      1\n5         1       0 1              0      0 2 [$50…      0      1       0      0\n6         0       1 0 [Contr…      0      0 0 [Con…      0      0       0      0\n# ℹ 41 more variables: ask &lt;dbl+lbl&gt;, askd1 &lt;dbl&gt;, askd2 &lt;dbl&gt;, askd3 &lt;dbl&gt;,\n#   ask1 &lt;dbl&gt;, ask2 &lt;dbl&gt;, ask3 &lt;dbl&gt;, amount &lt;dbl&gt;, gave &lt;dbl&gt;,\n#   amountchange &lt;dbl&gt;, hpa &lt;dbl&gt;, ltmedmra &lt;dbl&gt;, freq &lt;dbl&gt;, years &lt;dbl&gt;,\n#   year5 &lt;dbl&gt;, mrm2 &lt;dbl&gt;, dormant &lt;dbl&gt;, female &lt;dbl&gt;, couple &lt;dbl&gt;,\n#   state50one &lt;dbl&gt;, nonlit &lt;dbl&gt;, cases &lt;dbl&gt;, statecnt &lt;dbl&gt;,\n#   stateresponse &lt;dbl&gt;, stateresponset &lt;dbl&gt;, stateresponsec &lt;dbl&gt;,\n#   stateresponsetminc &lt;dbl&gt;, perbush &lt;dbl&gt;, close25 &lt;dbl&gt;, red0 &lt;dbl&gt;, …\n\n\n\n\n\n\n\n\nVariable Definitions\n\n\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\ntreatment\nTreatment\n\n\ncontrol\nControl\n\n\nratio\nMatch ratio\n\n\nratio2\n2:1 match ratio\n\n\nratio3\n3:1 match ratio\n\n\nsize\nMatch threshold\n\n\nsize25\n$25,000 match threshold\n\n\nsize50\n$50,000 match threshold\n\n\nsize100\n$100,000 match threshold\n\n\nsizeno\nUnstated match threshold\n\n\nask\nSuggested donation amount\n\n\naskd1\nSuggested donation was highest previous contribution\n\n\naskd2\nSuggested donation was 1.25 x highest previous contribution\n\n\naskd3\nSuggested donation was 1.50 x highest previous contribution\n\n\nask1\nHighest previous contribution (for suggestion)\n\n\nask2\n1.25 x highest previous contribution (for suggestion)\n\n\nask3\n1.50 x highest previous contribution (for suggestion)\n\n\namount\nDollars given\n\n\ngave\nGave anything\n\n\namountchange\nChange in amount given\n\n\nhpa\nHighest previous contribution\n\n\nltmedmra\nSmall prior donor: last gift was less than median $35\n\n\nfreq\nNumber of prior donations\n\n\nyears\nNumber of years since initial donation\n\n\nyear5\nAt least 5 years since initial donation\n\n\nmrm2\nNumber of months since last donation\n\n\ndormant\nAlready donated in 2005\n\n\nfemale\nFemale\n\n\ncouple\nCouple\n\n\nstate50one\nState tag: 1 for one observation of each of 50 states; 0 otherwise\n\n\nnonlit\nNonlitigation\n\n\ncases\nCourt cases from state in 2004-5 in which organization was involved\n\n\nstatecnt\nPercent of sample from state\n\n\nstateresponse\nProportion of sample from the state who gave\n\n\nstateresponset\nProportion of treated sample from the state who gave\n\n\nstateresponsec\nProportion of control sample from the state who gave\n\n\nstateresponsetminc\nstateresponset - stateresponsec\n\n\nperbush\nState vote share for Bush\n\n\nclose25\nState vote share for Bush between 47.5% and 52.5%\n\n\nred0\nRed state\n\n\nblue0\nBlue state\n\n\nredcty\nRed county\n\n\nbluecty\nBlue county\n\n\npwhite\nProportion white within zip code\n\n\npblack\nProportion black within zip code\n\n\npage18_39\nProportion age 18-39 within zip code\n\n\nave_hh_sz\nAverage household size within zip code\n\n\nmedian_hhincome\nMedian household income within zip code\n\n\npowner\nProportion house owner within zip code\n\n\npsch_atlstba\nProportion who finished college within zip code\n\n\npop_propurban\nProportion of population urban within zip code\n\n\n\n\n\n\n\n\nBalance Test\nAs an ad hoc test of the randomization mechanism, I provide a series of tests that compare aspects of the treatment and control groups to assess whether they are statistically significantly different from one another.\n\n# T-test: compare means of months since last donation\nt_test_mrm2 &lt;- t.test(mrm2 ~ treatment, data = df)\nt_test_mrm2\n\n\n    Welch Two Sample t-test\n\ndata:  mrm2 by treatment\nt = -0.11953, df = 33394, p-value = 0.9049\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.2381015  0.2107298\nsample estimates:\nmean in group 0 mean in group 1 \n       12.99814        13.01183 \n\n\nThe average number of months since last donation is not statistically significantly different between treatment and control groups (p-value &gt; 0.05). This suggests randomization worked well and groups were balanced — supporting the integrity of the experiment.\n\n# Linear regression: mrm2 on treatment\nlm_mrm2 &lt;- lm(mrm2 ~ treatment, data = df)\nsummary(lm_mrm2)\n\n\nCall:\nlm(formula = mrm2 ~ treatment, data = df)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-13.012  -9.012  -5.012   6.002 154.988 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 12.99814    0.09353 138.979   &lt;2e-16 ***\ntreatment    0.01369    0.11453   0.119    0.905    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 12.08 on 50080 degrees of freedom\n  (1 observation deleted due to missingness)\nMultiple R-squared:  2.851e-07, Adjusted R-squared:  -1.968e-05 \nF-statistic: 0.01428 on 1 and 50080 DF,  p-value: 0.9049\n\n\nAs expected, the regression confirms the t-test: no significant effect of treatment on months since last donation. Coefficient is small and p-value is large. Again, this supports random assignment."
  },
  {
    "objectID": "Blog/Project1/index.html#experimental-results",
    "href": "Blog/Project1/index.html#experimental-results",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Experimental Results",
    "text": "Experimental Results\n\nCharitable Contribution Made\nFirst, I analyze whether matched donations lead to an increased response rate of making a donation.\n\nlibrary(ggplot2)\n\n# Calculate proportion of donations by group\ndf %&gt;%\ngroup_by(treatment) %&gt;%\nsummarise(gave_rate = mean(gave)) %&gt;%\nggplot(aes(x = factor(treatment, labels = c(\"Control\", \"Treatment\")),\n            y = gave_rate,\n            fill = factor(treatment))) +\ngeom_col() +\nlabs(title = \"Proportion of People Who Donated\",\n    x = \"Group\",\n    y = \"Donation Rate\") +\ntheme_minimal() +\ntheme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n# T-test for donation outcome\nt.test(gave ~ treatment, data = df)\n\n\n    Welch Two Sample t-test\n\ndata:  gave by treatment\nt = -3.2095, df = 36577, p-value = 0.001331\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.006733310 -0.001627399\nsample estimates:\nmean in group 0 mean in group 1 \n     0.01785821      0.02203857 \n\n\n\n# Linear regression for same effect\nlm_gave &lt;- lm(gave ~ treatment, data = df)\nsummary(lm_gave)\n\n\nCall:\nlm(formula = gave ~ treatment, data = df)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.02204 -0.02204 -0.02204 -0.01786  0.98214 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 0.017858   0.001101  16.225  &lt; 2e-16 ***\ntreatment   0.004180   0.001348   3.101  0.00193 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1422 on 50081 degrees of freedom\nMultiple R-squared:  0.000192,  Adjusted R-squared:  0.0001721 \nF-statistic: 9.618 on 1 and 50081 DF,  p-value: 0.001927\n\n\nThe bar plot and t-test show that the treatment group had a higher donation rate than the control group. The difference is statistically significant (p-value &lt; 0.05), meaning the matching offer increased people’s likelihood to donate. This supports the paper’s claim that matching gifts raise response rates.\n\n# Probit regression\nprobit_model &lt;- glm(gave ~ treatment, data = df, family = binomial(link = \"probit\"))\nsummary(probit_model)\n\n\nCall:\nglm(formula = gave ~ treatment, family = binomial(link = \"probit\"), \n    data = df)\n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) -2.10014    0.02332 -90.074  &lt; 2e-16 ***\ntreatment    0.08678    0.02788   3.113  0.00185 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 10071  on 50082  degrees of freedom\nResidual deviance: 10061  on 50081  degrees of freedom\nAIC: 10065\n\nNumber of Fisher Scoring iterations: 6\n\n\nThe probit regression confirms the earlier findings: being assigned to the treatment increases the probability of donating. This aligns with Table 3, Column 1 in the original paper.\n\n\nDifferences between Match Rates\nNext, I assess the effectiveness of different sizes of matched donations on the response rate.\n\n# Subset to treatment group only\ntreat_df &lt;- df %&gt;% filter(treatment == 1)\n\n# Create dummy variable for 1:1 match (if neither 2:1 nor 3:1)\ntreat_df &lt;- treat_df %&gt;%\nmutate(ratio1 = ifelse(ratio2 == 0 & ratio3 == 0, 1, 0))\n\n\n# 1:1 vs 2:1\nt_1v2 &lt;- t.test(gave ~ ratio2, data = treat_df %&gt;% filter(ratio1 == 1 | ratio2 == 1))\nt_1v2\n\n\n    Welch Two Sample t-test\n\ndata:  gave by ratio2\nt = -0.96505, df = 22225, p-value = 0.3345\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.005711275  0.001942773\nsample estimates:\nmean in group 0 mean in group 1 \n     0.02074912      0.02263338 \n\n# 2:1 vs 3:1\nt_2v3 &lt;- t.test(gave ~ ratio3, data = treat_df %&gt;% filter(ratio2 == 1 | ratio3 == 1))\nt_2v3\n\n\n    Welch Two Sample t-test\n\ndata:  gave by ratio3\nt = -0.050116, df = 22261, p-value = 0.96\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.004012044  0.003811996\nsample estimates:\nmean in group 0 mean in group 1 \n     0.02263338      0.02273340 \n\n\nThe t-tests reveal no statistically significant differences in response rates between 1:1 and 2:1 match groups or 2:1 and 3:1 match groups. This supports the authors’ statement that larger match ratios do not lead to higher likelihood of giving, once any match is offered.\n\n# Regress giving on ratio dummies\nlm_ratios &lt;- lm(gave ~ ratio1 + ratio2 + ratio3, data = treat_df)\nsummary(lm_ratios)\n\n\nCall:\nlm(formula = gave ~ ratio1 + ratio2 + ratio3, data = treat_df)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.02273 -0.02273 -0.02263 -0.02075  0.97925 \n\nCoefficients: (1 not defined because of singularities)\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.022733   0.001392  16.335   &lt;2e-16 ***\nratio1      -0.001984   0.001968  -1.008    0.313    \nratio2      -0.000100   0.001968  -0.051    0.959    \nratio3             NA         NA      NA       NA    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1468 on 33393 degrees of freedom\nMultiple R-squared:  3.865e-05, Adjusted R-squared:  -2.124e-05 \nF-statistic: 0.6454 on 2 and 33393 DF,  p-value: 0.5245\n\n\nIn the regression, all match ratio dummy variables are statistically insignificant. This confirms that the generosity of the match ratio does not meaningfully affect donation rates, and the mere presence of a match drives the behavioral change.\n\n# Raw donation rates by ratio group\ntreat_df %&gt;%\ngroup_by(ratio) %&gt;%\nsummarise(response_rate = mean(gave))\n\n# A tibble: 3 × 2\n  ratio     response_rate\n  &lt;dbl+lbl&gt;         &lt;dbl&gt;\n1 1                0.0207\n2 2                0.0226\n3 3                0.0227\n\n\nThe raw response rates are also similar across 1:1, 2:1, and 3:1 groups — further reinforcing the conclusion that larger matches don’t help more than a basic 1:1 match.\n\n\nSize of Charitable Contribution\nIn this subsection, I analyze the effect of the size of matched donation on the size of the charitable contribution.\n\n# T-test: effect of treatment on donation amount (unconditional)\nt.test(amount ~ treatment, data = df)\n\n\n    Welch Two Sample t-test\n\ndata:  amount by treatment\nt = -1.9183, df = 36216, p-value = 0.05509\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -0.310555423  0.003344493\nsample estimates:\nmean in group 0 mean in group 1 \n      0.8132678       0.9668733 \n\n\n\n# Linear regression: amount ~ treatment\nlm_amt_all &lt;- lm(amount ~ treatment, data = df)\nsummary(lm_amt_all)\n\n\nCall:\nlm(formula = amount ~ treatment, data = df)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n -0.97  -0.97  -0.97  -0.81 399.03 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.81327    0.06742  12.063   &lt;2e-16 ***\ntreatment    0.15361    0.08256   1.861   0.0628 .  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.709 on 50081 degrees of freedom\nMultiple R-squared:  6.911e-05, Adjusted R-squared:  4.915e-05 \nF-statistic: 3.461 on 1 and 50081 DF,  p-value: 0.06282\n\n\nThe average donation amount is slightly higher in the treatment group, but the difference is not statistically significant. This suggests that while more people gave, the average amount given (including non-donors) was not substantially larger.\n\n# Filter to only people who donated (amount &gt; 0)\ndf_donors &lt;- df %&gt;% filter(amount &gt; 0)\n\n# T-test: among donors only\nt.test(amount ~ treatment, data = df_donors)\n\n\n    Welch Two Sample t-test\n\ndata:  amount by treatment\nt = 0.58461, df = 557.46, p-value = 0.559\nalternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0\n95 percent confidence interval:\n -3.937240  7.274027\nsample estimates:\nmean in group 0 mean in group 1 \n       45.54027        43.87188 \n\n\n\n# Linear regression: amount ~ treatment (among donors)\nlm_amt_donors &lt;- lm(amount ~ treatment, data = df_donors)\nsummary(lm_amt_donors)\n\n\nCall:\nlm(formula = amount ~ treatment, data = df_donors)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-43.54 -23.87 -18.87   6.13 356.13 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   45.540      2.423  18.792   &lt;2e-16 ***\ntreatment     -1.668      2.872  -0.581    0.561    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 41.83 on 1032 degrees of freedom\nMultiple R-squared:  0.0003268, Adjusted R-squared:  -0.0006419 \nF-statistic: 0.3374 on 1 and 1032 DF,  p-value: 0.5615\n\n\nAmong those who donated, the treatment group does not give significantly more than the control group. The treatment coefficient does not have a strong causal interpretation here, as it could reflect selection (different kinds of people chose to give in treatment vs. control).\n\nlibrary(ggplot2)\n\n# Add group labels\ndf_donors &lt;- df_donors %&gt;%\nmutate(group = ifelse(treatment == 1, \"Treatment\", \"Control\"))\n\n# Plot for Control group\ndf_donors %&gt;% \nfilter(group == \"Control\") %&gt;%\nggplot(aes(x = amount)) +\ngeom_histogram(binwidth = 5, fill = \"steelblue\", alpha = 0.7) +\ngeom_vline(aes(xintercept = mean(amount)), color = \"red\", linetype = \"dashed\") +\nlabs(title = \"Control Group: Donation Amounts\",\n    x = \"Amount Donated\", y = \"Count\") +\ntheme_minimal()\n\n\n\n\n\n\n\n\n\n# Plot for Treatment group\ndf_donors %&gt;% \nfilter(group == \"Treatment\") %&gt;%\nggplot(aes(x = amount)) +\ngeom_histogram(binwidth = 5, fill = \"seagreen\", alpha = 0.7) +\ngeom_vline(aes(xintercept = mean(amount)), color = \"red\", linetype = \"dashed\") +\nlabs(title = \"Treatment Group: Donation Amounts\",\n    x = \"Amount Donated\", y = \"Count\") +\ntheme_minimal()\n\n\n\n\n\n\n\n\nBoth groups show right-skewed distributions of donation amounts. The dashed red lines represent the average amount given. There is no dramatic difference in the average donation size between treatment and control."
  },
  {
    "objectID": "Blog/Project1/index.html#simulation-experiment",
    "href": "Blog/Project1/index.html#simulation-experiment",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Simulation Experiment",
    "text": "Simulation Experiment\nAs a reminder of how the t-statistic “works,” in this section I use simulation to demonstrate the Law of Large Numbers and the Central Limit Theorem.\nSuppose the true distribution of respondents who do not get a charitable donation match is Bernoulli with probability p=0.018 that a donation is made.\nFurther suppose that the true distribution of respondents who do get a charitable donation match of any size is Bernoulli with probability p=0.022 that a donation is made.\n\nLaw of Large Numbers\n\n# Set seed for reproducibility\nset.seed(123)\n\n# Simulate 10,000 draws from Bernoulli p=0.022 (treatment)\ntreatment_sim &lt;- rbinom(10000, 1, 0.022)\n\n# Simulate 10,000 draws from Bernoulli p=0.018 (control)\ncontrol_sim &lt;- rbinom(10000, 1, 0.018)\n\n# Compute difference at each point\ndiffs &lt;- treatment_sim - control_sim\n\n# Cumulative average of the differences\ncum_avg &lt;- cumsum(diffs) / seq_along(diffs)\n\n# Plot\nggplot(data.frame(index = 1:10000, cum_avg = cum_avg), aes(x = index, y = cum_avg)) +\ngeom_line(color = \"steelblue\") +\ngeom_hline(yintercept = 0.004, linetype = \"dashed\", color = \"red\") +\nlabs(title = \"Law of Large Numbers Simulation\",\n    x = \"Number of Observations\",\n    y = \"Cumulative Average of Differences\") +\ntheme_minimal()\n\n\n\n\n\n\n\n\nThe plot shows the cumulative average of differences in donation probabilities converging toward 0.004 — the true difference (2.2% - 1.8%). This illustrates the Law of Large Numbers: as sample size grows, sample statistics converge to their true values.\n\n\nCentral Limit Theorem\n\nsimulate_diffs &lt;- function(n, reps = 1000, p_control = 0.018, p_treatment = 0.022) {\nreplicate(reps, {\n    control &lt;- rbinom(n, 1, p_control)\n    treatment &lt;- rbinom(n, 1, p_treatment)\n    mean(treatment) - mean(control)\n})\n}\n\nsizes &lt;- c(50, 200, 500, 1000)\ndiffs_by_size &lt;- lapply(sizes, simulate_diffs)\n\n# Plot histograms\npar(mfrow = c(2, 2))  # 2 rows x 2 columns layout\n\nfor (i in 1:4) {\nhist(diffs_by_size[[i]], breaks = 30, main = paste(\"Sample size =\", sizes[i]),\n    xlab = \"Mean difference (treatment - control)\", col = \"lightblue\", border = \"white\")\nabline(v = 0, col = \"red\", lwd = 2, lty = 2)\n}\n\n\n\n\n\n\n\n\nAs sample size increases, the distribution of average differences becomes more concentrated around the true mean and more symmetric. With larger samples (like 1000), the distribution approximates a normal curve — demonstrating the Central Limit Theorem."
  }
]